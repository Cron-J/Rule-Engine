<script type="text/ng-template"  id="app/rule/commonCondition.html">
    <div class="row">
        <div class="col-sm-5">
            <p>&nbsp; <select ng-init="data.condition = 'all'" ng-model="data.condition" required>
                <option value="all">All</option>
                <option value="any">Any</option>
            </select> of the conditions are true</p>
        </div>
        <div class="col-sm-2">
            <a class="hoverptr" ng-click="addExpression(data)">Add Expression</a>
        </div>
        <div class="col-sm-2">
            <a class="hoverptr" ng-click="addSubExpression(data)">Add Sub-Expression</a>
        </div>
        <div class="col-sm-2">
            <a class="hoverptr" ng-click="deleteSubExpression(data)" ng-show="data.rows.length > 0">Remove Sub-Expression</a>
        </div>
    </div>  
    
    <div class="row">
        <div ng-repeat="data in data.rows" ng-show="data.conditions == undefined" ng-include="'app/rule/commonConditionValue.html'"></div>
    </div>
    <div class="row">
        <div ng-repeat="data in data.rows" ng-show="data.conditions !== undefined" ng-include="'app/rule/commonCondition.html'"></div>
    </div>
</script>

<div ng-controller="ruleCtrl">
    <div class="row">
        <h2>If</h2>
    </div>
    <div class="row left">
        <div ng-repeat="data in tree" ng-include="'app/rule/commonCondition.html'"></div>
    </div>
    <div class="row">
        <div class="col-sm-1 col-sm-offset-10" ng-show="tree[0].rows.length > 0">
            <button class="btn btn-primary" ng-click="submit(condition)">save</button>
        </div>
    </div>

    <div class="row">
        <h2>Then Action</h2>
    </div>
    <div class="row left">
            <li>First Action</li>
    </div>
    <div class="row left">
            <li>Second Action</li>
    </div>
    <div class="row left">
            <li>Third Action</li>
    </div>
    </div>
    
</div>